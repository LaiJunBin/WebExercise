{"version":3,"sources":["Context.js","modals/NewTagModal.js","logo512.png","models/User.js","models/ModelBase.js","modals/NewUserModal.js","components/ListItem.js","components/Aside.js","logo.svg","components/Header.js","modals/EditUserModal.js","components/Main.js","App.js","DBConfig.js","reportWebVitals.js","index.js"],"names":["GlobalContext","createContext","GlobalContextProvider","props","useState","users","setUsers","tags","setTags","getUsers","useIndexedDB","getAll","getTags","store","getUsersByDB","refreshUsers","refreshTags","getTagsByDB","then","map","tag","userCount","filter","user","includes","name","length","Provider","value","children","NewTagModal","close","context","useContext","setTag","add","id","className","onSubmit","e","preventDefault","error","console","log","type","onChange","target","required","onClick","User","avatar","logo","emails","phones","lastName","firstName","note","i","this","slice","email","splice","every","push","setEmails","phone","setPhones","key","init","undefined","state","setState","Object","assign","charAt","toUpperCase","substr","call","object","prop","NewUserModal","fileInputRef","useRef","useEffect","fileInput","current","uploadFile","file","files","fr","FileReader","onload","setAvatar","result","readAsDataURL","addEventListener","removeEventListener","payload","toObject","image","Image","src","cvs","document","createElement","ctx","getContext","width","height","fillStyle","fillRect","drawImage","toDataURL","err","ref","alt","click","placeholder","setLastName","setFirstName","icon","faEnvelope","emailChange","faPhoneAlt","phoneChange","faTag","checked","x","faStickyNote","cols","rows","setNote","ListItem","Aside","tagModalView","setTagModalView","userModalView","setUserModalView","faPlus","faUser","faChevronUp","faTrashAlt","Math","random","toString","faHandsHelping","Header","faSearch","EditUserModal","userData","update","Main","setUser","deleteRecord","startIndex","setStartIndex","editModalView","setEditModalView","faEllipsisV","colSpan","style","onScroll","floor","scrollTop","transform","j","deleteUser","initDB","version","objectStoresMeta","storeConfig","keyPath","autoIncrement","storeSchema","keypath","options","unique","multiEntry","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f4029a0b.chunk.js","sourcesContent":["import { createContext, useState } from \"react\";\r\nimport { useIndexedDB } from \"react-indexed-db\";\r\nimport React from 'react';\r\n\r\n\r\nexport const GlobalContext = createContext();\r\nfunction GlobalContextProvider(props) {\r\n    const [users, setUsers] = useState([]);\r\n    const [tags, setTags] = useState([]);\r\n\r\n    const {getAll: getUsers} = useIndexedDB('users');\r\n    const {getAll: getTags} = useIndexedDB('tags')\r\n\r\n    const store = {\r\n        users,\r\n        setUsers,\r\n        tags,\r\n        setTags,\r\n        async getUsersByDB() {\r\n            return getUsers();\r\n        },\r\n        async refreshUsers() {\r\n            const users = await this.getUsersByDB();\r\n            await this.refreshTags();\r\n            this.setUsers(users);\r\n        },\r\n        async getTagsByDB() {\r\n            return getTags();\r\n        },\r\n        async refreshTags() {\r\n            const users = await this.getUsersByDB();\r\n            this.setTags(await getTags().then(tags => tags.map(tag => ({\r\n                ...tag,\r\n                userCount: users.filter(user => user.tags.includes(tag.name)).length\r\n            }))));\r\n        },\r\n    };\r\n\r\n    return (\r\n        <GlobalContext.Provider value={store}>\r\n            {props.children}\r\n        </GlobalContext.Provider>\r\n    );\r\n}\r\n\r\nexport default GlobalContextProvider;\r\n","import { GlobalContext } from \"Context\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { useIndexedDB } from \"react-indexed-db\";\r\n\r\nfunction NewTagModal({close}) {\r\n    const context = useContext(GlobalContext);\r\n\r\n    const [tag, setTag] = useState('');\r\n    const { add } = useIndexedDB('tags');\r\n\r\n    const addTag = (e) => {\r\n        e.preventDefault();\r\n        add({name: tag}).then((id) => {\r\n            context.refreshTags();\r\n            close();\r\n        }, error => {\r\n            console.log(error);\r\n        });\r\n    };\r\n    \r\n    return (\r\n        <div id=\"dialog\" className=\"fixed top-0 left-0 z-10 w-full h-full bg-gray-300 bg-opacity-40 flex items-center justify-center\">\r\n            <div className=\"bg-white p-5 rounded-md w-80\">\r\n                <form onSubmit={addTag} className=\"newTag\">\r\n                    <h2 className=\"title text-lg\">建立標籤</h2>\r\n                    <p className=\"my-3\">\r\n                        <input name=\"name\" type=\"text\" className=\"border-b w-full h-8 outline-none hover:bg-gray-50 focus-within:border-gray-400 duration-200\"\r\n                            value={tag}\r\n                            onChange={(e) => setTag(e.target.value)}\r\n                            required\r\n                            />\r\n                    </p>\r\n                    <p className=\"mt-5 flex justify-end text-blue-600\">\r\n                        <button className=\"close p-2 px-3 mx-1 hover:bg-gray-100 duration-150\" type=\"button\" onClick={close}>取消</button>\r\n                        <button className=\"submit p-2 px-3 mx-1 hover:bg-gray-100 duration-150\" type=\"submit\" >儲存</button>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NewTagModal;","export default \"data:image/png;base64,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\"","import ModelBase from \"./ModelBase\";\r\nimport logo from '../logo512.png';\r\n\r\nexport default class User extends ModelBase {\r\n    constructor(props = {}) {\r\n        super({\r\n            avatar: props.avatar || logo,\r\n            emails: props.emails || [''],\r\n            phones: props.phones || [''],\r\n            lastName: props.lastName || '',\r\n            firstName: props.firstName || '',\r\n            tags: props.tags || [],\r\n            note: props.note || '',\r\n        });\r\n    }\r\n\r\n    emailChange(e, i) {\r\n        const emails = this.emails.slice();\r\n        const email = e.target.value;\r\n        emails[i] = email;\r\n        \r\n        if (email === '' && this.emails.length >= 2) {\r\n            emails.splice(i, 1);\r\n        } else {\r\n            if (emails.every(email => email !== '')) {\r\n                emails.push('');\r\n            }\r\n        }\r\n        \r\n        this.setEmails(emails);\r\n    }\r\n\r\n    phoneChange(e, i) {\r\n        const phones = this.phones.slice();\r\n        const phone = e.target.value;\r\n        phones[i] = phone;\r\n        \r\n        if (phone === '' && this.phones.length >= 2) {\r\n            phones.splice(i, 1);\r\n        } else {\r\n            if (phones.every(phone => phone !== '')) {\r\n                phones.push('');\r\n            }\r\n        }\r\n        \r\n        this.setPhones(phones);\r\n    }\r\n}","import {useState} from \"react\";\r\n \r\nexport default class ModelBase {\r\n    // @ts-ignore\r\n    #props = []\r\n\r\n    init = (props, key) => () => {\r\n        const [state, setState] = useState(undefined);\r\n \r\n        Object.assign(this, {\r\n            [key]: state,\r\n            ['set' + key.charAt(0).toUpperCase() + key.substr(1)]: setState\r\n        });\r\n \r\n        if (this[key] === undefined) {\r\n            setState(props[key]);\r\n        }\r\n    }\r\n \r\n    constructor(props) {\r\n        for (let key in props) {\r\n            this.#props.push(key);\r\n            this.init.call(this, props, key)();\r\n        }\r\n    }\r\n\r\n    toObject() {\r\n        const object = {};\r\n        for(let prop of this.#props) {\r\n            object[prop] = this[prop];\r\n        }\r\n        return object;\r\n    }\r\n}","import { faEnvelope, faPhoneAlt, faStickyNote, faTag } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { GlobalContext } from \"Context\";\r\nimport User from \"models/User\";\r\nimport React, { useContext } from \"react\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { useIndexedDB } from \"react-indexed-db\";\r\nimport logo from '../logo512.png'\r\n\r\nfunction NewUserModal({close}) {\r\n    const context = useContext(GlobalContext);\r\n    \r\n    const user = new User();\r\n    const {tags} = context;\r\n    \r\n    const { add } = useIndexedDB('users');\r\n\r\n    const addUser = (e) => {\r\n        e.preventDefault();\r\n        const payload = user.toObject();\r\n        payload.emails = payload.emails.slice(0, -1);\r\n        payload.phones = payload.phones.slice(0, -1);\r\n        const image = new Image();\r\n        image.src = payload.avatar;\r\n        image.onload = () => {\r\n            const cvs = document.createElement('canvas');\r\n            const ctx = cvs.getContext('2d');\r\n            cvs.width = 120;\r\n            cvs.height = 120;\r\n            ctx.fillStyle = '#fff';\r\n            ctx.fillRect(0, 0, 120, 120);\r\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, 120, 120);\r\n            payload.avatar = cvs.toDataURL('image/jpeg');\r\n            add(payload).then(() => {\r\n                context.refreshUsers();\r\n                close();\r\n            }, err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n\r\n    const fileInputRef = useRef(null);\r\n    const uploadAvatar = () => {\r\n        if (fileInputRef.current) {\r\n            fileInputRef.current.click();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fileInput = fileInputRef.current;\r\n        if(fileInput) {\r\n            const uploadFile = e => {\r\n                const file = e.target.files[0];\r\n                if(file) {\r\n                    const fr = new FileReader();\r\n                    fr.onload = e => {\r\n                        user.setAvatar(e.target.result);\r\n                    };\r\n                    fr.readAsDataURL(file);\r\n                } else {\r\n                    user.setAvatar(logo);\r\n                }\r\n            };\r\n\r\n            fileInput.addEventListener('change', uploadFile);\r\n            return () => {\r\n                fileInput.removeEventListener('change', uploadFile);\r\n            }\r\n        }\r\n    });\r\n    \r\n    return (\r\n        <>\r\n        { user.emails ? (\r\n            <div id=\"dialog\" className=\"fixed top-0 left-0 z-10 w-full h-full bg-gray-300 bg-opacity-40 flex items-center justify-center\">\r\n                <div className=\"bg-white p-5 rounded-md w-[680px] max-h-[80vh] overflow-y-scroll\">\r\n                    <form onSubmit={addUser} className=\"newContact\">\r\n                        <h2 className=\"title text-lg\">建立新聯絡人</h2>\r\n                        <hr className=\"mx-[-1.25rem] my-7\"/>\r\n                        <div className=\"flex items-center\">\r\n                            <input type=\"file\" className=\"avatar hidden\" ref={fileInputRef} />\r\n                            <img alt=\"avatar\" className=\"avatar_preview w-20 h-20 mr-6 cursor-pointer\" src={user.avatar} onClick={uploadAvatar} />\r\n                            <input type=\"text\" name=\"last_name\" placeholder=\"姓氏\" className=\"mx-3 h-10 outline-none border-b w-60\" value={user.lastName} onChange={(e) => user.setLastName(e.target.value)} required />\r\n                            <input type=\"text\" name=\"first_name\" placeholder=\"名字\" className=\"mx-3 h-10 outline-none border-b w-60\" value={user.firstName} onChange={(e) => user.setFirstName(e.target.value)} required />\r\n                        </div>\r\n                        <div className=\"flex my-7\">\r\n                            <div className=\"w-20 mr-6 mt-6 flex items-start justify-center\">\r\n                                <FontAwesomeIcon icon={faEnvelope} className=\"text-gray-500 text-xl\" />\r\n                            </div>\r\n                            <div className=\"flex-grow flex flex-col\">\r\n                                { user.emails.map((email, i) => (\r\n                                    <input type=\"email\" name=\"email[]\" placeholder=\"電子郵件\" className=\"outline-none h-10 mx-3 my-3 border-b flex-grow\" key={i} value={email} onChange={e => user.emailChange(e, i)} required={i===0} />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex my-7\">\r\n                            <div className=\"w-20 mr-6 mt-6 flex items-start justify-center\">\r\n                                <FontAwesomeIcon icon={faPhoneAlt} className=\"text-gray-500 text-xl\" />\r\n                            </div>\r\n                            <div className=\"flex-grow flex flex-col\">\r\n                                { user.phones.map((phone, i) => (\r\n                                    <input type=\"tel\" name=\"phone[]\" placeholder=\"電話\" className=\"outline-none h-10 mx-3 my-3 border-b flex-grow\" key={i} value={phone} onChange={e => user.phoneChange(e, i)} required={i===0} />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex my-7\">\r\n                            <div className=\"w-20 mr-6 flex-shrink-0 flex items-center justify-center\">\r\n                                <FontAwesomeIcon icon={faTag} className=\"text-gray-500 text-xl\" />\r\n                            </div>\r\n                            <div className=\"tags\">\r\n                                {tags.map((tag, i) => (\r\n                                    <label key={i} className=\"tag_text border rounded-full px-4 py-2 mx-2 leading-[50px] whitespace-nowrap\">\r\n                                        <input type=\"checkbox\" name=\"tags[]\" onChange={e => e.target.checked? user.setTags([...user.tags, tag.name]): user.setTags(user.tags.filter(x => x !== tag.name)) } />\r\n                                        <span className=\"ml-3\">{tag.name}</span>\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex my-7\">\r\n                            <div className=\"w-20 mr-6 flex items-center justify-center\">\r\n                                <FontAwesomeIcon icon={faStickyNote} className=\"text-gray-500 text-xl\" />\r\n                            </div>\r\n                            <textarea name=\"note\" cols={30} rows={1} placeholder=\"附註\" className=\"outline-none h-10 mx-3 border-b flex-grow resize-none\" value={user.note} onChange={(e) => user.setNote(e.target.value)}></textarea>\r\n                        </div>\r\n                        <hr className=\"mx-[-1.25rem] mt-5\" />\r\n                        <p className=\"mt-5 flex justify-end text-blue-600\">\r\n                            <button className=\"close p-2 px-3 mx-1 hover:bg-gray-100 duration-150\" type=\"button\" onClick={close}>取消</button>\r\n                            <button className=\"submit p-2 px-3 mx-1 hover:bg-gray-100 duration-150\" type=\"submit\" >儲存</button>\r\n                        </p>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        ) : ''}\r\n    </>\r\n    );\r\n}\r\n\r\nexport default NewUserModal;","import React from \"react\";\r\n\r\nfunction ListItem(props) {\r\n    return (\r\n        <li \r\n            {...props}\r\n            className={`item flex justify-between items-center py-3 px-10 ${props.current !== undefined? 'current': 'hover:bg-gray-50'} hover:cursor-pointer ${props.className || ''}`}\r\n        >\r\n            {props.children}\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default ListItem;","import { faChevronUp, faHandsHelping, faPlus, faTag, faTrashAlt, faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { GlobalContext } from \"Context\";\r\nimport NewTagModal from \"modals/NewTagModal\";\r\nimport NewUserModal from \"modals/NewUserModal\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport ListItem from \"./ListItem\";\r\nimport logo from '../logo512.png';\r\nimport { useIndexedDB } from \"react-indexed-db\";\r\n\r\nfunction Aside() {\r\n    const [tagModalView, setTagModalView] = useState(false);\r\n    const [userModalView, setUserModalView] = useState(false);\r\n\r\n    const context = useContext(GlobalContext);\r\n    const {tags, users} = context;\r\n    const { add } = useIndexedDB('users');\r\n\r\n    useEffect(() => {\r\n        context.refreshUsers();\r\n        context.refreshTags();\r\n    }, []);\r\n\r\n    const createUser = () => {\r\n        const user = {\r\n            avatar: logo,\r\n            emails: [\r\n                Math.random().toString(36).substr(2, 4) +\r\n                '@' + Math.random().toString(36).substr(2, 4)\r\n            ],\r\n            phones: ['09' + Math.random().toString(10).substr(2, 8)],\r\n            lastName: Math.random().toString(36).substr(2, 4),\r\n            firstName: Math.random().toString(36).substr(2, 4),\r\n            tags: [],\r\n            note: '',\r\n        };\r\n        \r\n        const image = new Image();\r\n        image.src = user.avatar;\r\n        image.onload = () => {\r\n            const cvs = document.createElement('canvas');\r\n            const ctx = cvs.getContext('2d');\r\n            cvs.width = 120;\r\n            cvs.height = 120;\r\n            ctx.fillStyle = '#fff';\r\n            ctx.fillRect(0, 0, 120, 120);\r\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, 120, 120);\r\n            user.avatar = cvs.toDataURL('image/jpeg');\r\n            add(user).then(() => {\r\n                context.refreshUsers();\r\n            }, err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <aside id=\"aside\" className=\"w-80\">\r\n                <button id=\"addContact\" onClick={() => setUserModalView(true)} className=\"rounded-full ml-3 p-3 px-5 border border-gray-200 shadow-md hover:bg-gray-50 duration-75 active:bg-gray-100\">\r\n                    <FontAwesomeIcon icon={faPlus} className=\"text-blue-600 scale-150\" />\r\n                    <span className=\"pl-3\">建立聯絡人</span>\r\n                </button>\r\n\r\n                <ul className=\"list mt-5\">\r\n                    <ListItem current=\"true\">\r\n                        <FontAwesomeIcon icon={faUser} className=\"text-gray-400\" />\r\n                        <span className=\"flex-grow ml-5\">聯絡人</span>\r\n                        <span className=\"num text-sm\">\r\n                            {users.length}\r\n                        </span>\r\n                    </ListItem>\r\n                    <li>\r\n                        <hr className=\"mt-3\"/>\r\n                    </li>\r\n                    <li className=\"item flex flex-col py-3\">\r\n                        <div className=\"flex items-center py-3 px-10 hover:bg-gray-50 hover:cursor-pointer\">\r\n                            <FontAwesomeIcon className=\"text-gray-400\" icon={faChevronUp} />\r\n                            <span className=\"ml-5\">標籤</span>\r\n                        </div>\r\n                        <ul id=\"tagList\" className=\"list\">\r\n                            { tags.map((tag, i) => (\r\n                                <ListItem key={i}>\r\n                                    <FontAwesomeIcon className=\"text-gray-400\" icon={faTag} />\r\n                                    <span className=\"ml-5 flex-grow\">{tag.name}</span>\r\n                                    <div className=\"num text-sm\">{tag.userCount}</div>\r\n                                </ListItem>\r\n                            ))}\r\n\r\n                            <ListItem id=\"addTag\" className=\"item\" onClick={() => setTagModalView(true)}>\r\n                                <FontAwesomeIcon className=\"text-gray-400\" icon={faPlus} />\r\n                                <span className=\"flex-grow ml-5\">建立標籤</span>\r\n                            </ListItem>\r\n                        </ul>\r\n                    </li>\r\n                    <li>\r\n                        <hr className=\"mb-3\"/>\r\n                    </li>\r\n                    <ListItem>\r\n                        <FontAwesomeIcon className=\"text-gray-400\" icon={faTrashAlt} />\r\n                        <span className=\"flex-grow ml-5\">垃圾桶</span>\r\n                    </ListItem>\r\n                    <li>\r\n                        <hr className=\"my-3\"/>\r\n                    </li>\r\n                    <ListItem onClick={createUser} className=\"active:bg-gray-100\">\r\n                        <FontAwesomeIcon className=\"text-gray-400\" icon={faHandsHelping} />\r\n                        <span className=\"flex-grow ml-5\">產生一個聯絡人</span>\r\n                    </ListItem>\r\n                </ul>\r\n\r\n            </aside>\r\n\r\n            {(tagModalView? <NewTagModal close={() => setTagModalView(false)} />: '')}\r\n            {(userModalView? <NewUserModal close={() => setUserModalView(false)} />: '')}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Aside;","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport logo from '../logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header id=\"header\" className=\"flex m-5\">\r\n            <h1 id=\"logo\" className=\"w-80 flex items-center text-2xl font-bold text-gray-500\">\r\n                <img src={logo} className=\"h-12\" alt=\"logo\"/>\r\n                聯絡人\r\n            </h1>\r\n            <form id=\"searchForm\" className=\"flex-grow rounded-md bg-gray-100 focus-within:bg-gray-200 focus-within:outline-white\">\r\n                <label className=\"w-full h-full pl-3 flex items-center\">\r\n                    <FontAwesomeIcon icon={faSearch} className=\"text-gray-400\" />\r\n                    <input type=\"text\" name=\"search\" placeholder=\"搜尋\" className=\"pl-3 h-full flex-grow bg-transparent outline-none\" />\r\n                </label>\r\n            </form>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { faEnvelope, faPhoneAlt, faStickyNote, faTag } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { GlobalContext } from \"Context\";\r\nimport User from \"models/User\";\r\nimport React, { useContext } from \"react\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { useIndexedDB } from \"react-indexed-db\";\r\nimport logo from '../logo512.png'\r\n\r\nfunction EditUserModal({user: userData, close}) {\r\n    const context = useContext(GlobalContext);\r\n    const user = new User(userData);\r\n    \r\n    useEffect(() => {\r\n        user.setEmails([...user.emails, '']);\r\n        user.setPhones([...user.phones, '']);\r\n    }, []);\r\n\r\n    const {tags} = context;\r\n    \r\n    const { update } = useIndexedDB('users');\r\n\r\n    const updateUser = (e) => {\r\n        e.preventDefault();\r\n        const payload = user.toObject();\r\n        payload.emails = payload.emails.slice(0, -1);\r\n        payload.phones = payload.phones.slice(0, -1);\r\n        const image = new Image();\r\n        image.src = payload.avatar;\r\n        image.onload = () => {\r\n            const cvs = document.createElement('canvas');\r\n            const ctx = cvs.getContext('2d');\r\n            cvs.width = 120;\r\n            cvs.height = 120;\r\n            ctx.fillStyle = '#fff';\r\n            ctx.fillRect(0, 0, 120, 120);\r\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, 120, 120);\r\n            payload.avatar = cvs.toDataURL('image/jpeg');\r\n            update({...payload, id: userData.id}).then(() => {\r\n                context.refreshUsers();\r\n                close();\r\n            }, err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n\r\n    const fileInputRef = useRef(null);\r\n    const uploadAvatar = () => {\r\n        if (fileInputRef.current) {\r\n            fileInputRef.current.click();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fileInput = fileInputRef.current;\r\n        if(fileInput) {\r\n            const uploadFile = e => {\r\n                const file = e.target.files[0];\r\n                if(file) {\r\n                    const fr = new FileReader();\r\n                    fr.onload = e => {\r\n                        user.setAvatar(e.target.result);\r\n                    };\r\n                    fr.readAsDataURL(file);\r\n                } else {\r\n                    user.setAvatar(logo);\r\n                }\r\n            };\r\n\r\n            fileInput.addEventListener('change', uploadFile);\r\n            return () => {\r\n                fileInput.removeEventListener('change', uploadFile);\r\n            }\r\n        }\r\n    });\r\n    \r\n    return (\r\n        <>\r\n        { user.emails ? (\r\n            <div id=\"dialog\" className=\"fixed top-0 left-0 z-10 w-full h-full bg-gray-300 bg-opacity-40 flex items-center justify-center\">\r\n                <div className=\"bg-white p-5 rounded-md w-[680px] max-h-[80vh] overflow-y-scroll\">\r\n                    <form onSubmit={updateUser} className=\"newContact\">\r\n                        <h2 className=\"title text-lg\">編輯聯絡人</h2>\r\n                        <hr className=\"mx-[-1.25rem] my-7\"/>\r\n                        <div className=\"flex items-center\">\r\n                            <input type=\"file\" className=\"avatar hidden\" ref={fileInputRef} />\r\n                            <img alt=\"avatar\" className=\"avatar_preview w-20 h-20 mr-6 cursor-pointer\" src={user.avatar} onClick={uploadAvatar} />\r\n                            <input type=\"text\" name=\"last_name\" placeholder=\"姓氏\" className=\"mx-3 h-10 outline-none border-b w-60\" value={user.lastName} onChange={(e) => user.setLastName(e.target.value)} required />\r\n                            <input type=\"text\" name=\"first_name\" placeholder=\"名字\" className=\"mx-3 h-10 outline-none border-b w-60\" value={user.firstName} onChange={(e) => user.setFirstName(e.target.value)} required />\r\n                        </div>\r\n                        <div className=\"flex my-7\">\r\n                            <div className=\"w-20 mr-6 mt-6 flex items-start justify-center\">\r\n                                <FontAwesomeIcon icon={faEnvelope} className=\"text-gray-500 text-xl\" />\r\n                            </div>\r\n                            <div className=\"flex-grow flex flex-col\">\r\n                                { user.emails.map((email, i) => (\r\n                                    <input type=\"email\" name=\"email[]\" placeholder=\"電子郵件\" className=\"outline-none h-10 mx-3 my-3 border-b flex-grow\" key={i} value={email} onChange={e => user.emailChange(e, i)} required={i===0} />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex my-7\">\r\n                            <div className=\"w-20 mr-6 mt-6 flex items-start justify-center\">\r\n                                <FontAwesomeIcon icon={faPhoneAlt} className=\"text-gray-500 text-xl\" />\r\n                            </div>\r\n                            <div className=\"flex-grow flex flex-col\">\r\n                                { user.phones.map((phone, i) => (\r\n                                    <input type=\"tel\" name=\"phone[]\" placeholder=\"電話\" className=\"outline-none h-10 mx-3 my-3 border-b flex-grow\" key={i} value={phone} onChange={e => user.phoneChange(e, i)} required={i===0} />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex my-7\">\r\n                            <div className=\"w-20 mr-6 flex-shrink-0 flex items-center justify-center\">\r\n                                <FontAwesomeIcon icon={faTag} className=\"text-gray-500 text-xl\" />\r\n                            </div>\r\n                            <div className=\"tags\">\r\n                                {tags.map((tag, i) => (\r\n                                    <label key={i} className=\"tag_text border rounded-full px-4 py-2 mx-2 leading-[50px] whitespace-nowrap\">\r\n                                        <input type=\"checkbox\" name=\"tags[]\" checked={user.tags.includes(tag.name)} onChange={e => {\r\n                                            user.setTags(e.target.checked ? [...user.tags, tag.name]: user.tags.filter(x => x !== tag.name))\r\n                                        } } />\r\n                                        <span className=\"ml-3\">{tag.name}</span>\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex my-7\">\r\n                            <div className=\"w-20 mr-6 flex items-center justify-center\">\r\n                                <FontAwesomeIcon icon={faStickyNote} className=\"text-gray-500 text-xl\" />\r\n                            </div>\r\n                            <textarea name=\"note\" cols={30} rows={1} placeholder=\"附註\" className=\"outline-none h-10 mx-3 border-b flex-grow resize-none\" value={user.note} onChange={(e) => user.setNote(e.target.value)}></textarea>\r\n                        </div>\r\n                        <hr className=\"mx-[-1.25rem] mt-5\" />\r\n                        <p className=\"mt-5 flex justify-end text-blue-600\">\r\n                            <button className=\"close p-2 px-3 mx-1 hover:bg-gray-100 duration-150\" type=\"button\" onClick={close}>取消</button>\r\n                            <button className=\"submit p-2 px-3 mx-1 hover:bg-gray-100 duration-150\" type=\"submit\" >儲存</button>\r\n                        </p>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        ) : ''}\r\n    </>\r\n    );\r\n}\r\n\r\nexport default EditUserModal;","import { faEllipsisV } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { GlobalContext } from \"Context\";\r\nimport EditUserModal from \"modals/EditUserModal\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { useIndexedDB } from \"react-indexed-db\";\r\n\r\nfunction Main() {\r\n    const context = useContext(GlobalContext);\r\n    const { users } = context;\r\n    const [user, setUser] = useState(null);\r\n    const {deleteRecord} = useIndexedDB('users');\r\n    const [startIndex, setStartIndex] = useState(0);\r\n    const deleteUser = i => {\r\n        const user = users[i];\r\n        deleteRecord(user.id).then(() => {\r\n            context.refreshUsers();\r\n        });\r\n    };\r\n\r\n    const [editModalView, setEditModalView] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <main id=\"main\" className=\"flex-grow\">\r\n                <table className=\"contacts w-full\">\r\n                    <thead>\r\n                        <tr className=\"text-left h-14 text-gray-500\">\r\n                            <th className=\"pl-3 w-[22%]\">名稱</th>\r\n                            <th className=\"w-[15%]\">電子郵件</th>\r\n                            <th className=\"w-1/6\">電話號碼</th>\r\n                            <th className=\"w-1/2\">標籤</th>\r\n                            <th className=\"text-right pr-8\">\r\n                                <FontAwesomeIcon icon={faEllipsisV} />\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th colSpan={5}><hr className=\"mb-3\" /></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"absolute overflow-y-scroll\" style={{width: 'calc(100% - 325px)', height: 'calc(100% - 160px)'}} onScroll={(e) => {\r\n                            setStartIndex(Math.floor(e.target.scrollTop/55))\r\n                        }}>\r\n                        {users.slice(startIndex, startIndex + 20).map((user, i) => (\r\n                            <tr className=\"contact h-14\" key={i} style={{transform: `translateY(${startIndex * 56}px)`}}>\r\n                                <td className=\"w-1/4\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <img className=\"avatar\" width=\"75\" src={user.avatar} alt=\"avatar\" />\r\n                                        <div className=\"ml-3 fullname\">{`${user.lastName} ${user.firstName}`}</div>\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"email w-1/6\">{user.emails[0]}</td>\r\n                                <td className=\"phone w-1/6\">{user.phones[0]}</td>\r\n                                <td className=\"overflow-x-scroll w-1/2\">  \r\n                                    <div className=\"tags flex\">\r\n                                        {user.tags.map((tag, j) => (\r\n                                            <div key={j} className=\"tag flex-shrink-0 text-sm bg-gray-300 rounded-sm text-bray-800 px-2 py-1 mx-1\">{tag}</div>\r\n                                        ))}\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"actions text-right pr-5 w-52 whitespace-nowrap opacity-0 duration-150\">\r\n                                    <button className=\"edit rounded-md px-3 py-2 mx-2 bg-blue-200 hover:bg-opacity-75 duration-100\" onClick={() => {\r\n                                        setUser(user);\r\n                                        setEditModalView(true);\r\n                                    }}>編輯</button>\r\n                                    <button className=\"delete px-3 py-2 bg-red-500 text-white rounded-md mx-2 hover:bg-opacity-80 duration-100\" onClick={() => deleteUser(i)}>刪除</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        <tr style={{height: (users.length - 20) * 56}}></tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n            </main>\r\n\r\n            {(editModalView? <EditUserModal user={user} close={() => setEditModalView(false)} />: '')}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Main;","import Aside from 'components/Aside';\nimport Header from 'components/Header';\nimport Main from 'components/Main';\nimport React from 'react';\nimport { DBConfig } from './DBConfig';\nimport { initDB } from 'react-indexed-db';\nimport GlobalContextProvider from 'Context';\n\ninitDB(DBConfig);\n\n\nfunction App() {\n    return (\n        <GlobalContextProvider>\n            <div className=\"flex flex-col\">\n                <Header></Header>\n                <div className=\"flex\">\n                    <Aside></Aside>\n                    <Main></Main>\n                </div>\n            </div>\n        </GlobalContextProvider>\n    );\n}\n\nexport default App;\n","export const DBConfig = {\r\n    name: 'MyDB',\r\n    version: 1,\r\n    objectStoresMeta: [\r\n      {\r\n        store: 'tags',\r\n        storeConfig: { keyPath: 'id', autoIncrement: true },\r\n        storeSchema: [\r\n          { name: 'name', keypath: 'name', options: { unique: false } },\r\n        ]\r\n      },\r\n      {\r\n        store: 'users',\r\n        storeConfig: { keyPath: 'id', autoIncrement: true },\r\n        storeSchema: [\r\n          { name: 'tags', keypath: 'tags', options: { unique: false, multiEntry: true } },\r\n        ]\r\n      }\r\n    ]\r\n  };","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './tailwind.css';\nimport './postcss.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}